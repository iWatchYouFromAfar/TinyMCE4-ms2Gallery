tinymce.PluginManager.add("ms2Gallery",function(t,e){t.addButton("ms2Gallery",{text:"Вставить галерею",icon:!1,onclick:function(){t.windowManager.open({title:"Параметры галереи",minWidth:500,body:[{type:"textbox",name:"parent",label:"Parent ID",tooltip:"Укажите ID родителей через запятую"},{type:"textbox",name:"resource",label:"Resource ID",tooltip:"Укажите ID ресурсов через запятую"},{type:"textbox",name:"limit",label:"Limit",tooltip:"Укажите лимит выборки изображений"},{type:"textbox",name:"tags",label:"Теги (через запятую)",tooltip:"Укажите список тегов, разделённых запятыми, для вывода изображений.",multiline:!0,minHeight:50},{type:"container",minHeight:40,items:[{type:"container",html:'<div style="position: absolute;right: 0;">Автор iWatchYouFromAfar</div>'},{type:"container",html:'<a href="https://webinmind.ru/author" target="_blank" style="position: absolute;right: 0;bottom: 0;color: green;cursor: pointer;">Сказать спасибо</a>'}]}],onsubmit:function(e){if(0!=e.data.parent.length)var a="&parent=`"+e.data.parent+"`";else a="";if(0!=e.data.resource.length)var i=" &resource=`"+e.data.resource+"`";else i="";if(0!=e.data.limit.length)var n=" &limit=`"+e.data.limit+"`";else n="";if(0!=e.data.tags.length)var o=" &tags=`"+e.data.tags+"`";else o="";t.insertContent("[[!ms2Gallery? "+a+i+n+o+"]]")}})}}),t.addMenuItem("ms2Gallery",{text:"About ms2Gallery",context:"tools",onclick:function(){t.windowManager.open({title:"TinyMCE site",url:"https://webinmind.ru/tinymce/v4/plugins/ms2gallery",width:1200,height:600,buttons:[{text:"Close",onclick:"close"}]})}})});